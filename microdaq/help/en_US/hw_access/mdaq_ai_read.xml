<?xml version="1.0" encoding="UTF-8"?>
<refentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svg="http://www.w3.org/2000/svg" xmlns:ns5="http://www.w3.org/1999/xhtml" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:db="http://docbook.org/ns/docbook" version="5.0-subset Scilab" xml:id="mdaq_ai_read">
	<refnamediv>
		<refname>mdaq_ai_read</refname>
		<refpurpose>Reads MicroDAQ analog inputs (AI)</refpurpose>
	</refnamediv>
	
	<refsynopsisdiv>
		<title>Calling Sequence</title>
		<synopsis>
			data = mdaq_ai_read();
			data = mdaq_ai_read(channels, range, differential);
			data = mdaq_ai_read(link_id, channels, range, differential);
		</synopsis>
	</refsynopsisdiv>
	
	<refsection id="Description_mdaq_ai_read">
		<title>Description</title>
		<para>
			This function reads MicroDAQ AI (analog inputs) channels. In order to select channels to read an array of channels has to be provided. 
            Analog inputs (AI) can accept input ranges according to ADC version. To find out what ranges support your device, type 'mdaq_ai_read'
            in Scilab console. Usage description contains valid information about connected MicroDAQ device. 
            The 'differential' parameter sets single ended or differential mode analog input mode</para>
        <para> 
    For function usage description call function without parameters. In order to increase AI read performance call mdaq_ai_read with link_id (returned by mdaq_open()).
		</para>
	</refsection>  
  
	<refsection id="Parameters_mdaq_ai_read">
		<title>Parameters</title>
		<itemizedlist>
			<listitem><para><emphasis role="bold">link_id: </emphasis> Valid connection link ID (optional)</para></listitem>
			<listitem><para><emphasis role="bold">channels: </emphasis> Single channel of array of channels number to read</para></listitem>
            <listitem><para><emphasis role="bold">range: </emphasis> Analog input range, integer number according to MDAQ device version - check usage description.</para></listitem>
			<listitem><para><emphasis role="bold">differential: </emphasis> Analog input mode: %T - differential, %F - single ended mode</para></listitem>
			<listitem><para><emphasis role="bold">data:  </emphasis> Single value or array with AI voltage values</para></listitem>
		</itemizedlist>
	</refsection>
    <para>
		Analog input channel selection in differential mode: 
		<simplelist type="inline">
            <member><para>Channel 1 - AI1(+), AI2(-)</para></member>
            <member><para>Channel 2 - AI3(+), AI4(-)</para></member>
            <member><para>Channel 3 - AI5(+), AI6(-)</para></member>
            <member><para>Channel 4 - AI7(+), AI8(-)</para></member>
        </simplelist>
    </para>
	
	<refsection>
        <title>Examples</title>
        <para> Getting function usage description </para>

        <programlisting role="example"><![CDATA[
// show mdaq_ai_read usage description
mdaq_ai_read
 ]]></programlisting>
        <para> Calling function without link_id </para>
        <programlisting role="example"><![CDATA[
// mdaq_ai_read usage example
data = mdaq_ai_read([1 2 3 4 5 6 7 8], 1, %F);
mprintf("ADC data: %f %f %f %f %f %f %f %f \n", data) 
 ]]></programlisting>

        <para> Calling function with link_id for better performance </para>
        <programlisting role="example"><![CDATA[
// mdaq_ai_read usage example with link_id parameter
con = mdaq_open();
for i=1:1000
    data = mdaq_ai_read(con, [1 2 3 4 5 6 7 8], 1, %F);
    mprintf("ADC data: %f %f %f %f %f %f %f %f \n", data)
end
mdaq_close(con)
 ]]></programlisting>

 
    </refsection>
	
  <refsection id="SeeAlso_mdaq_ai_read">
		<title>See Also</title>
		<simplelist type="inline">
			<member><link linkend="mdaq_ao_write">mdaq_ao_write</link></member>
		</simplelist>
  </refsection>
</refentry>
